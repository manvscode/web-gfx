{"version":3,"sources":["src/lib/coordinate-frame.js"],"names":[],"mappings":"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","file":"js/lib/coordinate-frame.js","sourcesContent":["/*\n *  Author: Joe Marrero.  manvscode@gmail.com\n */\nwebgl.CoordinateFrame = function( orientation, position ) {\n\tif( this instanceof webgl.CoordinateFrame ) {\n\t\tthis.modelMatrix = webgl.math.matrix4.IDENTITY;\n\t\tthis.setOrientation( orientation );\n\t\tthis.setPosition( position );\n\t}\n\telse {\n\t\treturn new webgl.CoordinateFrame( orientation, position );\n\t}\n};\n\nwebgl.CoordinateFrame.prototype = {\n\tconstructor: webgl.CoordinateFrame,\n\n\tposition: function() {\n\t\treturn new webgl.math.vector3( -this.modelMatrix.m[12], -this.modelMatrix.m[13], -this.modelMatrix.m[14] );\n\t},\n\n\tsetPosition: function( p ) {\n\t\tthis.modelMatrix.m[12] = -p.x;\n\t\tthis.modelMatrix.m[13] = -p.y;\n\t\tthis.modelMatrix.m[14] = -p.z;\n\t},\n\n\torientation: function() {\n\t\treturn new webgl.math.matrix4(\n\t\t\tthis.modelMatrix.m[ 0],   this.modelMatrix.m[ 1],  this.modelMatrix.m[ 2],  0.0,\n\t\t\tthis.modelMatrix.m[ 4],   this.modelMatrix.m[ 5],  this.modelMatrix.m[ 6],  0.0,\n\t\t\tthis.modelMatrix.m[ 8],   this.modelMatrix.m[ 9],  this.modelMatrix.m[10],  0.0,\n\t\t\t              0.0,                 0.0,                0.0,  1.0\n\t\t);\n\t},\n\n\tsetOrientation: function( o ) {\n\t\tif( o instanceof webgl.math.matrix3 ) {\n\t\t\tthis.modelMatrix.m[ 0] = o.m[0];\n\t\t\tthis.modelMatrix.m[ 1] = o.m[1];\n\t\t\tthis.modelMatrix.m[ 2] = o.m[2];\n\t\t\tthis.modelMatrix.m[ 4] = o.m[3];\n\t\t\tthis.modelMatrix.m[ 5] = o.m[4];\n\t\t\tthis.modelMatrix.m[ 6] = o.m[5];\n\t\t\tthis.modelMatrix.m[ 8] = o.m[6];\n\t\t\tthis.modelMatrix.m[ 9] = o.m[7];\n\t\t\tthis.modelMatrix.m[10] = o.m[8];\n\t\t}\n\t\telse if( o instanceof webgl.math.matrix4 ) {\n\t\t\tthis.modelMatrix.m[ 0] = o.m[ 0];\n\t\t\tthis.modelMatrix.m[ 1] = o.m[ 1];\n\t\t\tthis.modelMatrix.m[ 2] = o.m[ 2];\n\t\t\tthis.modelMatrix.m[ 4] = o.m[ 4];\n\t\t\tthis.modelMatrix.m[ 5] = o.m[ 5];\n\t\t\tthis.modelMatrix.m[ 6] = o.m[ 6];\n\t\t\tthis.modelMatrix.m[ 8] = o.m[ 8];\n\t\t\tthis.modelMatrix.m[ 9] = o.m[ 9];\n\t\t\tthis.modelMatrix.m[10] = o.m[10];\n\t\t}\n\t\telse {\n\t\t\tthrow \"setOrientation() expected a matrix\";\n\t\t}\n\t},\n\n\tmodelMatrix: function() {\n\t\treturn this.modelMatrix;\n\t},\n\n\txAxis: function() { /* Depending on implemenation: this may or may not be normalized */\n\t\treturn new webgl.math.vector3( this.modelMatrix.m[0], this.modelMatrix.m[4], this.modelMatrix.m[8] );\n\t},\n\n\tyAxis: function() { /* Depending on implemenation: this may or may not be normalized */\n\t\treturn new webgl.math.vector3( this.modelMatrix.m[1], this.modelMatrix.m[5], this.modelMatrix.m[9] );\n\t},\n\n\tzAxis: function() { /* Depending on implemenation: this may or may not be normalized */\n\t\treturn new webgl.math.vector3( this.modelMatrix.m[2], this.modelMatrix.m[6], this.modelMatrix.m[10] );\n\t},\n};\n"]}